{"version":3,"file":"lucia-CC7QOpZZ.js","sources":["../../../.svelte-kit/adapter-node/chunks/lucia.js"],"sourcesContent":["import { d as private_env } from \"./shared-server.js\";\nimport { p as prisma } from \"./prisma.js\";\nimport { PrismaAdapter } from \"@lucia-auth/adapter-prisma\";\nimport { Authentik } from \"arctic\";\nimport { Lucia } from \"lucia\";\nconst realmURL = \"https://auth.inpt.fr\";\nconst authentik = new Authentik(\n  realmURL,\n  private_env.CHURROS_CLIENT_ID,\n  private_env.CHURROS_CLIENT_SECRET,\n  private_env.REDIRECT_URI\n);\nconst adapter = new PrismaAdapter(prisma.session, prisma.user);\nconst lucia = new Lucia(adapter, {\n  sessionCookie: {\n    attributes: {\n      secure: !private_env.DEV,\n      sameSite: \"lax\"\n    }\n  },\n  getUserAttributes: (attributes) => {\n    return {\n      churros_id: attributes.churros_id,\n      email: attributes.email,\n      root: attributes.root,\n      instructor: attributes.instructor\n    };\n  },\n  getSessionAttributes: (attributes) => {\n    return {\n      userId: attributes.userId,\n      expiresAt: attributes.expiresAt\n    };\n  }\n});\nexport {\n  authentik as a,\n  lucia as l\n};\n"],"names":[],"mappings":";;;;;;AAKA,MAAM,QAAQ,GAAG,sBAAsB,CAAC;AACnC,MAAC,SAAS,GAAG,IAAI,SAAS;AAC/B,EAAE,QAAQ;AACV,EAAE,WAAW,CAAC,iBAAiB;AAC/B,EAAE,WAAW,CAAC,qBAAqB;AACnC,EAAE,WAAW,CAAC,YAAY;AAC1B,EAAE;AACF,MAAM,OAAO,GAAG,IAAI,aAAa,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;AAC1D,MAAC,KAAK,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE;AACjC,EAAE,aAAa,EAAE;AACjB,IAAI,UAAU,EAAE;AAChB,MAAM,MAAM,EAAE,CAAC,WAAW,CAAC,GAAG;AAC9B,MAAM,QAAQ,EAAE,KAAK;AACrB,KAAK;AACL,GAAG;AACH,EAAE,iBAAiB,EAAE,CAAC,UAAU,KAAK;AACrC,IAAI,OAAO;AACX,MAAM,UAAU,EAAE,UAAU,CAAC,UAAU;AACvC,MAAM,KAAK,EAAE,UAAU,CAAC,KAAK;AAC7B,MAAM,IAAI,EAAE,UAAU,CAAC,IAAI;AAC3B,MAAM,UAAU,EAAE,UAAU,CAAC,UAAU;AACvC,KAAK,CAAC;AACN,GAAG;AACH,EAAE,oBAAoB,EAAE,CAAC,UAAU,KAAK;AACxC,IAAI,OAAO;AACX,MAAM,MAAM,EAAE,UAAU,CAAC,MAAM;AAC/B,MAAM,SAAS,EAAE,UAAU,CAAC,SAAS;AACrC,KAAK,CAAC;AACN,GAAG;AACH,CAAC;;;;"}