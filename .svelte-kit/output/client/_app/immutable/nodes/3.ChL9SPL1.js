import{s as Be,a as T,l as F,b as N,i as g,d as $,r as Ne,g as O,t as L,h as R,m as G,e as j,j as le,k as D,L as yt,o as P,M as ut,I as en,u as Ae,F as st,H as tn,n as We,N as nn,c as x,q as $e,f as qe,v as sn,O as Qe}from"../chunks/scheduler.C7Wo8M4i.js";import{S as Ue,i as He,c as b,a as w,m as v,t as m,g as he,b as d,e as be,d as k,f as Ie}from"../chunks/index.CV8hfPSa.js";import{C as rn,a as ln,b as an}from"../chunks/card.CE70MUHO.js";import{C as on}from"../chunks/card-description.aHE51XGI.js";import{B as ae}from"../chunks/button.LSeDBL-G.js";import{e as Q,u as Re,o as Le}from"../chunks/each.DxDIO64g.js";import{g as ce,a as pe}from"../chunks/utils.9a4hcQZ0.js";import{I as Pe}from"../chunks/input.aOOZU8Wk.js";import{C as Pt}from"../chunks/card-content.BtYrswVR.js";import{C as Dt}from"../chunks/card-footer.BQxGnICQ.js";import{R as Mt,T as Ot,D as Rt,G as Ke,a as Lt,E as jt,b as Vt,c as ge,d as Ft,e as Bt,f as Ut,g as Ht,S as ke,h as Xe,i as Gt,j as Ye,k as Jt,u as nt,s as zt}from"../chunks/stores.BaG4yN9q.js";import{w as qt}from"../chunks/index._5LYSXs0.js";import{c as Qt,a as Kt}from"../chunks/addPagination.DMfUyLWv.js";function $t(f,e,n){const t=f.slice();return t[26]=e[n],t}function fn(f){let e,n="Open menu",t,o,s;return o=new jt({props:{class:"h-4 w-4"}}),{c(){e=O("span"),e.textContent=n,t=T(),b(o.$$.fragment),this.h()},l(l){e=R(l,"SPAN",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-rsbkxi"&&(e.textContent=n),t=N(l),w(o.$$.fragment,l),this.h()},h(){D(e,"class","sr-only")},m(l,r){g(l,e,r),g(l,t,r),v(o,l,r),s=!0},p:We,i(l){s||(m(o.$$.fragment,l),s=!0)},o(l){d(o.$$.fragment,l),s=!1},d(l){l&&($(e),$(t)),k(o,l)}}}function un(f){let e,n;return e=new ae({props:{variant:"ghost",builders:[f[29]],size:"icon",class:"relative h-8 w-8 p-0",$$slots:{default:[fn]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,o){v(e,t,o),n=!0},p(t,o){const s={};o&536870912&&(s.builders=[t[29]]),o&1073741824&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function $n(f){let e;return{c(){e=L("Actions")},l(n){e=j(n,"Actions")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function cn(f){let e;return{c(){e=L("Copier l'identifiant")},l(n){e=j(n,"Copier l'identifiant")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function pn(f){let e,n,t,o;return e=new Vt({props:{$$slots:{default:[$n]},$$scope:{ctx:f}}}),t=new ge({props:{$$slots:{default:[cn]},$$scope:{ctx:f}}}),t.$on("click",f[13]),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment)},l(s){w(e.$$.fragment,s),n=N(s),w(t.$$.fragment,s)},m(s,l){v(e,s,l),g(s,n,l),v(t,s,l),o=!0},p(s,l){const r={};l&1073741824&&(r.$$scope={dirty:l,ctx:s}),e.$set(r);const a={};l&1073741824&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){o||(m(e.$$.fragment,s),m(t.$$.fragment,s),o=!0)},o(s){d(e.$$.fragment,s),d(t.$$.fragment,s),o=!1},d(s){s&&$(n),k(e,s),k(t,s)}}}function _n(f){let e;return{c(){e=L("Supprimer le créneau")},l(n){e=j(n,"Supprimer le créneau")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function mn(f){let e;return{c(){e=L("Modifier le créneau")},l(n){e=j(n,"Modifier le créneau")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function dn(f){let e,n,t,o;return e=new ge({props:{$$slots:{default:[_n]},$$scope:{ctx:f}}}),e.$on("click",f[14]),t=new ge({props:{$$slots:{default:[mn]},$$scope:{ctx:f}}}),t.$on("click",f[15]),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment)},l(s){w(e.$$.fragment,s),n=N(s),w(t.$$.fragment,s)},m(s,l){v(e,s,l),g(s,n,l),v(t,s,l),o=!0},p(s,l){const r={};l&1073741824&&(r.$$scope={dirty:l,ctx:s}),e.$set(r);const a={};l&1073741824&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){o||(m(e.$$.fragment,s),m(t.$$.fragment,s),o=!0)},o(s){d(e.$$.fragment,s),d(t.$$.fragment,s),o=!1},d(s){s&&$(n),k(e,s),k(t,s)}}}function gn(f){let e,n,t,o,s,l;return e=new Ke({props:{$$slots:{default:[pn]},$$scope:{ctx:f}}}),t=new Lt({}),s=new Ke({props:{$$slots:{default:[dn]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment),o=T(),b(s.$$.fragment)},l(r){w(e.$$.fragment,r),n=N(r),w(t.$$.fragment,r),o=N(r),w(s.$$.fragment,r)},m(r,a){v(e,r,a),g(r,n,a),v(t,r,a),g(r,o,a),v(s,r,a),l=!0},p(r,a){const i={};a&1073741825&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const h={};a&1073741825&&(h.$$scope={dirty:a,ctx:r}),s.$set(h)},i(r){l||(m(e.$$.fragment,r),m(t.$$.fragment,r),m(s.$$.fragment,r),l=!0)},o(r){d(e.$$.fragment,r),d(t.$$.fragment,r),d(s.$$.fragment,r),l=!1},d(r){r&&($(n),$(o)),k(e,r),k(t,r),k(s,r)}}}function hn(f){let e,n,t,o;return e=new Ot({props:{asChild:!0,$$slots:{default:[un,({builder:s})=>({29:s}),({builder:s})=>s?536870912:0]},$$scope:{ctx:f}}}),t=new Rt({props:{$$slots:{default:[gn]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment)},l(s){w(e.$$.fragment,s),n=N(s),w(t.$$.fragment,s)},m(s,l){v(e,s,l),g(s,n,l),v(t,s,l),o=!0},p(s,l){const r={};l&1610612736&&(r.$$scope={dirty:l,ctx:s}),e.$set(r);const a={};l&1073741825&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){o||(m(e.$$.fragment,s),m(t.$$.fragment,s),o=!0)},o(s){d(e.$$.fragment,s),d(t.$$.fragment,s),o=!1},d(s){s&&$(n),k(e,s),k(t,s)}}}function ct(f){let e,n,t,o,s,l,r,a,i,h,_="Description",E,p,c,u,C,M,J="Jauge",te,B,ne,oe,Z,y,se,fe,q,ie,V,A,z,H="Début (HH:MM)",we,S,K,ee,W,ue,je="Fin (HH:MM)",De,_e,Ze,xe,ve,me,ye,de,Ge,et,rt;function Wt(I){f[16](I)}let lt={id:f[10].name,type:"text",placeholder:"Nom du créneau"};f[3]!==void 0&&(lt.value=f[3]),l=new Pe({props:lt}),Ne.push(()=>Ie(l,"value",Wt));function Xt(I){f[17](I)}let at={type:"text",placeholder:"Description"};f[4]!==void 0&&(at.value=f[4]),p=new Pe({props:at}),Ne.push(()=>Ie(p,"value",Xt));function Yt(I){f[18](I)}let ot={type:"number",placeholder:"Capacité"};f[5]!==void 0&&(ot.value=f[5]),B=new Pe({props:ot}),Ne.push(()=>Ie(B,"value",Yt));let Me=Q(f[9]),X=[];for(let I=0;I<Me.length;I+=1)X[I]=pt($t(f,Me,I));function Zt(I){f[20](I)}let ft={type:"time"};f[7]!==void 0&&(ft.value=f[7]),S=new Pe({props:ft}),Ne.push(()=>Ie(S,"value",Zt));function xt(I){f[21](I)}let it={type:"time"};return f[8]!==void 0&&(it.value=f[8]),_e=new Pe({props:it}),Ne.push(()=>Ie(_e,"value",xt)),me=new ae({props:{variant:"outline",$$slots:{default:[bn]},$$scope:{ctx:f}}}),me.$on("click",f[22]),de=new ae({props:{disabled:f[2],$$slots:{default:[wn]},$$scope:{ctx:f}}}),de.$on("click",f[23]),{c(){e=O("div"),n=O("div"),t=O("label"),o=L("Nom"),s=T(),b(l.$$.fragment),a=T(),i=O("div"),h=O("label"),h.textContent=_,E=T(),b(p.$$.fragment),u=T(),C=O("div"),M=O("label"),M.textContent=J,te=T(),b(B.$$.fragment),oe=T(),Z=O("div"),y=O("label"),se=L("Type de créneau"),fe=T(),q=O("select");for(let I=0;I<X.length;I+=1)X[I].c();ie=T(),V=O("div"),A=O("div"),z=O("label"),z.textContent=H,we=T(),b(S.$$.fragment),ee=T(),W=O("div"),ue=O("label"),ue.textContent=je,De=T(),b(_e.$$.fragment),xe=T(),ve=O("div"),b(me.$$.fragment),ye=T(),b(de.$$.fragment),this.h()},l(I){e=R(I,"DIV",{class:!0});var U=G(e);n=R(U,"DIV",{class:!0});var re=G(n);t=R(re,"LABEL",{class:!0,for:!0});var Ve=G(t);o=j(Ve,"Nom"),Ve.forEach($),s=N(re),w(l.$$.fragment,re),re.forEach($),a=N(U),i=R(U,"DIV",{class:!0});var Ce=G(i);h=R(Ce,"LABEL",{class:!0,"data-svelte-h":!0}),le(h)!=="svelte-j4g5gt"&&(h.textContent=_),E=N(Ce),w(p.$$.fragment,Ce),Ce.forEach($),u=N(U),C=R(U,"DIV",{class:!0});var Ee=G(C);M=R(Ee,"LABEL",{class:!0,"data-svelte-h":!0}),le(M)!=="svelte-1ya9q77"&&(M.textContent=J),te=N(Ee),w(B.$$.fragment,Ee),Ee.forEach($),oe=N(U),Z=R(U,"DIV",{class:!0});var Se=G(Z);y=R(Se,"LABEL",{class:!0,for:!0});var Fe=G(y);se=j(Fe,"Type de créneau"),Fe.forEach($),fe=N(Se),q=R(Se,"SELECT",{id:!0,class:!0});var Oe=G(q);for(let tt=0;tt<X.length;tt+=1)X[tt].l(Oe);Oe.forEach($),Se.forEach($),ie=N(U),V=R(U,"DIV",{class:!0});var Y=G(V);A=R(Y,"DIV",{class:!0});var Te=G(A);z=R(Te,"LABEL",{class:!0,"data-svelte-h":!0}),le(z)!=="svelte-11y1sve"&&(z.textContent=H),we=N(Te),w(S.$$.fragment,Te),Te.forEach($),ee=N(Y),W=R(Y,"DIV",{class:!0});var Je=G(W);ue=R(Je,"LABEL",{class:!0,"data-svelte-h":!0}),le(ue)!=="svelte-2ti8yd"&&(ue.textContent=je),De=N(Je),w(_e.$$.fragment,Je),Je.forEach($),Y.forEach($),xe=N(U),ve=R(U,"DIV",{class:!0});var ze=G(ve);w(me.$$.fragment,ze),ye=N(ze),w(de.$$.fragment,ze),ze.forEach($),U.forEach($),this.h()},h(){D(t,"class","text-sm"),D(t,"for",f[10].name),D(n,"class","grid gap-1"),D(h,"class","text-sm"),D(i,"class","grid gap-1"),D(M,"class","text-sm"),D(C,"class","grid gap-1"),D(y,"class","text-sm"),D(y,"for",f[10].slotType),D(q,"id",f[10].slotType),D(q,"class","w-full rounded-md border border-input bg-background px-3 py-2 text-sm"),f[6]===void 0&&yt(()=>f[19].call(q)),D(Z,"class","grid gap-1"),D(z,"class","text-sm"),D(A,"class","grid gap-1"),D(ue,"class","text-sm"),D(W,"class","grid gap-1"),D(V,"class","grid gap-2 grid-cols-2"),D(ve,"class","flex gap-2 justify-end pt-2"),D(e,"class","mt-2 border rounded p-3 grid gap-2")},m(I,U){g(I,e,U),P(e,n),P(n,t),P(t,o),P(n,s),v(l,n,null),P(e,a),P(e,i),P(i,h),P(i,E),v(p,i,null),P(e,u),P(e,C),P(C,M),P(C,te),v(B,C,null),P(e,oe),P(e,Z),P(Z,y),P(y,se),P(Z,fe),P(Z,q);for(let re=0;re<X.length;re+=1)X[re]&&X[re].m(q,null);ut(q,f[6],!0),P(e,ie),P(e,V),P(V,A),P(A,z),P(A,we),v(S,A,null),P(V,ee),P(V,W),P(W,ue),P(W,De),v(_e,W,null),P(e,xe),P(e,ve),v(me,ve,null),P(ve,ye),v(de,ve,null),Ge=!0,et||(rt=en(q,"change",f[19]),et=!0)},p(I,U){const re={};!r&&U&8&&(r=!0,re.value=I[3],Ae(()=>r=!1)),l.$set(re);const Ve={};!c&&U&16&&(c=!0,Ve.value=I[4],Ae(()=>c=!1)),p.$set(Ve);const Ce={};if(!ne&&U&32&&(ne=!0,Ce.value=I[5],Ae(()=>ne=!1)),B.$set(Ce),U&512){Me=Q(I[9]);let Y;for(Y=0;Y<Me.length;Y+=1){const Te=$t(I,Me,Y);X[Y]?X[Y].p(Te,U):(X[Y]=pt(Te),X[Y].c(),X[Y].m(q,null))}for(;Y<X.length;Y+=1)X[Y].d(1);X.length=Me.length}U&576&&ut(q,I[6]);const Ee={};!K&&U&128&&(K=!0,Ee.value=I[7],Ae(()=>K=!1)),S.$set(Ee);const Se={};!Ze&&U&256&&(Ze=!0,Se.value=I[8],Ae(()=>Ze=!1)),_e.$set(Se);const Fe={};U&1073741824&&(Fe.$$scope={dirty:U,ctx:I}),me.$set(Fe);const Oe={};U&4&&(Oe.disabled=I[2]),U&1073741824&&(Oe.$$scope={dirty:U,ctx:I}),de.$set(Oe)},i(I){Ge||(m(l.$$.fragment,I),m(p.$$.fragment,I),m(B.$$.fragment,I),m(S.$$.fragment,I),m(_e.$$.fragment,I),m(me.$$.fragment,I),m(de.$$.fragment,I),Ge=!0)},o(I){d(l.$$.fragment,I),d(p.$$.fragment,I),d(B.$$.fragment,I),d(S.$$.fragment,I),d(_e.$$.fragment,I),d(me.$$.fragment,I),d(de.$$.fragment,I),Ge=!1},d(I){I&&$(e),k(l),k(p),k(B),st(X,I),k(S),k(_e),k(me),k(de),et=!1,rt()}}}function pt(f){let e,n=f[26].label+"",t;return{c(){e=O("option"),t=L(n),this.h()},l(o){e=R(o,"OPTION",{});var s=G(e);t=j(s,n),s.forEach($),this.h()},h(){e.__value=f[26].value,tn(e,e.__value)},m(o,s){g(o,e,s),P(e,t)},p:We,d(o){o&&$(e)}}}function bn(f){let e;return{c(){e=L("Annuler")},l(n){e=j(n,"Annuler")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function wn(f){let e;return{c(){e=L("Enregistrer")},l(n){e=j(n,"Enregistrer")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function vn(f){let e,n,t,o;e=new Mt({props:{$$slots:{default:[hn]},$$scope:{ctx:f}}});let s=f[1]&&ct(f);return{c(){b(e.$$.fragment),n=T(),s&&s.c(),t=F()},l(l){w(e.$$.fragment,l),n=N(l),s&&s.l(l),t=F()},m(l,r){v(e,l,r),g(l,n,r),s&&s.m(l,r),g(l,t,r),o=!0},p(l,[r]){const a={};r&1073741825&&(a.$$scope={dirty:r,ctx:l}),e.$set(a),l[1]?s?(s.p(l,r),r&2&&m(s,1)):(s=ct(l),s.c(),m(s,1),s.m(t.parentNode,t)):s&&(he(),d(s,1,1,()=>{s=null}),be())},i(l){o||(m(e.$$.fragment,l),m(s),o=!0)},o(l){d(e.$$.fragment,l),d(s),o=!1},d(l){l&&($(n),$(t)),k(e,l),s&&s.d(l)}}}async function kn(f){await fetch("/api/slots/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slot_id:f})})}function Cn(f,e,n){let{id:t}=e,o=!1,s=!1,l="",r="",a,i="CRENEAU",h,_,E=null,p=null;const c=[{value:"CRENEAU",label:"Créneau"},{value:"EVENEMENT",label:"Évènement"},{value:"FERMETURE",label:"Fermeture"}],u={name:`slot-name-${t}`,description:`slot-description-${t}`,capacity:`slot-capacity-${t}`,starts:`slot-start-${t}`,ends:`slot-end-${t}`,slotType:`slot-type-${t}`};async function C(V){n(2,s=!0);try{const A=await fetch("/api/slots/get",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slot_id:V})});if(A.status===200){const H=(await A.json()).slot;n(3,l=H.name||""),n(4,r=H.description||""),n(5,a=H.capacity??void 0),n(6,i=H.slot_type||"CRENEAU");try{E=H.starts_at?new Date(H.starts_at):null,p=H.ends_at?new Date(H.ends_at):null,n(7,h=E?new Date(E).toISOString().slice(11,16):void 0),n(8,_=p?new Date(p).toISOString().slice(11,16):void 0)}catch{}n(1,o=!0)}}catch(A){console.error(A)}finally{n(2,s=!1)}}async function M(V){n(2,s=!0);try{(await fetch("/api/slots/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((()=>{const z={slot_id:V};if(typeof l=="string"&&(z.name=l),typeof r=="string"&&(z.description=r),a!=null&&a!==""){const K=typeof a=="string"?parseInt(a,10):a;Number.isNaN(K)||(z.capacity=K)}function H(K,ee){if(!ee)return;const W=ee.split(":");if(W.length!==2)return;const ue=parseInt(W[0],10),je=parseInt(W[1],10),De=K?new Date(K):new Date;if(!(!Number.isFinite(ue)||!Number.isFinite(je)))return De.setHours(ue,je,0,0),De.toISOString()}const we=H(E,h),S=H(p,_);return we&&(z.starts_at=we),S&&(z.ends_at=S),i&&c.some(K=>K.value===i)&&(z.slot_type=i),z})())})).status===200&&window.location.reload()}catch(A){console.error(A)}finally{n(2,s=!1)}}const J=()=>navigator.clipboard.writeText(t),te=()=>kn(t),B=()=>C(t);function ne(V){l=V,n(3,l)}function oe(V){r=V,n(4,r)}function Z(V){a=V,n(5,a)}function y(){i=nn(this),n(6,i),n(9,c)}function se(V){h=V,n(7,h)}function fe(V){_=V,n(8,_)}const q=()=>{n(1,o=!1)},ie=()=>M(t);return f.$$set=V=>{"id"in V&&n(0,t=V.id)},[t,o,s,l,r,a,i,h,_,c,u,C,M,J,te,B,ne,oe,Z,y,se,fe,q,ie]}class En extends Ue{constructor(e){super(),He(this,e,Cn,vn,Be,{id:0})}}function _t(f,e,n){const t=f.slice();return t[29]=e[n],t}function mt(f,e,n){const t=f.slice();return t[33]=e[n],t}function dt(f,e,n){const t=f.slice();return t[37]=e[n],t}function gt(f,e,n){const t=f.slice();return t[33]=e[n],t}function Sn(f){let e,n;return e=new Ye({props:{of:f[33].render()}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,o){v(e,t,o),n=!0},p(t,o){const s={};o[0]&8&&(s.of=t[33].render()),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Tn(f){let e,n,t;const o=[f[36]];let s={$$slots:{default:[Sn]},$$scope:{ctx:f}};for(let l=0;l<o.length;l+=1)s=$e(s,o[l]);return e=new Gt({props:s}),{c(){b(e.$$.fragment),n=T()},l(l){w(e.$$.fragment,l),n=N(l)},m(l,r){v(e,l,r),g(l,n,r),t=!0},p(l,r){const a=r[1]&32?ce(o,[pe(l[36])]):{};r[0]&8|r[1]&2048&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){l&&$(n),k(e,l)}}}function ht(f,e){let n,t,o;return t=new ke({props:{attrs:e[33].attrs(),props:e[33].props(),$$slots:{default:[Tn,({attrs:s})=>({36:s}),({attrs:s})=>[0,s?32:0]]},$$scope:{ctx:e}}}),{key:f,first:null,c(){n=F(),b(t.$$.fragment),this.h()},l(s){n=F(),w(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,l){g(s,n,l),v(t,s,l),o=!0},p(s,l){e=s;const r={};l[0]&8&&(r.attrs=e[33].attrs()),l[0]&8&&(r.props=e[33].props()),l[0]&8|l[1]&2080&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(s){o||(m(t.$$.fragment,s),o=!0)},o(s){d(t.$$.fragment,s),o=!1},d(s){s&&$(n),k(t,s)}}}function Nn(f){let e=[],n=new Map,t,o,s=Q(f[37].cells);const l=r=>r[33].id;for(let r=0;r<s.length;r+=1){let a=gt(f,s,r),i=l(a);n.set(i,e[r]=ht(i,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=F()},l(r){for(let a=0;a<e.length;a+=1)e[a].l(r);t=F()},m(r,a){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(r,a);g(r,t,a),o=!0},p(r,a){a[0]&8|a[1]&32&&(s=Q(r[37].cells),he(),e=Re(e,a,l,1,r,s,n,t.parentNode,Le,ht,t,gt),be())},i(r){if(!o){for(let a=0;a<s.length;a+=1)m(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)d(e[a]);o=!1},d(r){r&&$(t);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function An(f){let e,n,t;return e=new Xe({props:{$$slots:{default:[Nn]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment),n=T()},l(o){w(e.$$.fragment,o),n=N(o)},m(o,s){v(e,o,s),g(o,n,s),t=!0},p(o,s){const l={};s[0]&8|s[1]&2048&&(l.$$scope={dirty:s,ctx:o}),e.$set(l)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){o&&$(n),k(e,o)}}}function bt(f){let e,n;return e=new ke({props:{rowAttrs:f[37].attrs(),$$slots:{default:[An]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,o){v(e,t,o),n=!0},p(t,o){const s={};o[0]&8&&(s.rowAttrs=t[37].attrs()),o[0]&8|o[1]&2048&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function In(f){let e,n,t=Q(f[3]),o=[];for(let l=0;l<t.length;l+=1)o[l]=bt(dt(f,t,l));const s=l=>d(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=F()},l(l){for(let r=0;r<o.length;r+=1)o[r].l(l);e=F()},m(l,r){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(l,r);g(l,e,r),n=!0},p(l,r){if(r[0]&8|r[1]&32){t=Q(l[3]);let a;for(a=0;a<t.length;a+=1){const i=dt(l,t,a);o[a]?(o[a].p(i,r),m(o[a],1)):(o[a]=bt(i),o[a].c(),m(o[a],1),o[a].m(e.parentNode,e))}for(he(),a=t.length;a<o.length;a+=1)s(a);be()}},i(l){if(!n){for(let r=0;r<t.length;r+=1)m(o[r]);n=!0}},o(l){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)d(o[r]);n=!1},d(l){l&&$(e),st(o,l)}}}function Pn(f){let e,n;return e=new Ye({props:{of:f[33].render()}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,o){v(e,t,o),n=!0},p(t,o){const s={};o[0]&32&&(s.of=t[33].render()),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function Dn(f){let e,n,t;const o=[f[36]];let s={$$slots:{default:[Pn]},$$scope:{ctx:f}};for(let l=0;l<o.length;l+=1)s=$e(s,o[l]);return e=new Jt({props:s}),{c(){b(e.$$.fragment),n=T()},l(l){w(e.$$.fragment,l),n=N(l)},m(l,r){v(e,l,r),g(l,n,r),t=!0},p(l,r){const a=r[1]&32?ce(o,[pe(l[36])]):{};r[0]&32|r[1]&2048&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){l&&$(n),k(e,l)}}}function wt(f,e){let n,t,o;return t=new ke({props:{attrs:e[33].attrs(),$$slots:{default:[Dn,({attrs:s})=>({36:s}),({attrs:s})=>[0,s?32:0]]},$$scope:{ctx:e}}}),{key:f,first:null,c(){n=F(),b(t.$$.fragment),this.h()},l(s){n=F(),w(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,l){g(s,n,l),v(t,s,l),o=!0},p(s,l){e=s;const r={};l[0]&32&&(r.attrs=e[33].attrs()),l[0]&32|l[1]&2080&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(s){o||(m(t.$$.fragment,s),o=!0)},o(s){d(t.$$.fragment,s),o=!1},d(s){s&&$(n),k(t,s)}}}function Mn(f){let e=[],n=new Map,t,o,s=Q(f[29].cells);const l=r=>r[33].id;for(let r=0;r<s.length;r+=1){let a=mt(f,s,r),i=l(a);n.set(i,e[r]=wt(i,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=F()},l(r){for(let a=0;a<e.length;a+=1)e[a].l(r);t=F()},m(r,a){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(r,a);g(r,t,a),o=!0},p(r,a){a[0]&32|a[1]&32&&(s=Q(r[29].cells),he(),e=Re(e,a,l,1,r,s,n,t.parentNode,Le,wt,t,mt),be())},i(r){if(!o){for(let a=0;a<s.length;a+=1)m(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)d(e[a]);o=!1},d(r){r&&$(t);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function On(f){let e,n,t;const o=[f[32]];let s={$$slots:{default:[Mn]},$$scope:{ctx:f}};for(let l=0;l<o.length;l+=1)s=$e(s,o[l]);return e=new Xe({props:s}),{c(){b(e.$$.fragment),n=T()},l(l){w(e.$$.fragment,l),n=N(l)},m(l,r){v(e,l,r),g(l,n,r),t=!0},p(l,r){const a=r[1]&2?ce(o,[pe(l[32])]):{};r[0]&32|r[1]&2048&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){l&&$(n),k(e,l)}}}function vt(f,e){let n,t,o;return t=new ke({props:{rowAttrs:e[29].attrs(),$$slots:{default:[On,({rowAttrs:s})=>({32:s}),({rowAttrs:s})=>[0,s?2:0]]},$$scope:{ctx:e}}}),{key:f,first:null,c(){n=F(),b(t.$$.fragment),this.h()},l(s){n=F(),w(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,l){g(s,n,l),v(t,s,l),o=!0},p(s,l){e=s;const r={};l[0]&32&&(r.rowAttrs=e[29].attrs()),l[0]&32|l[1]&2050&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(s){o||(m(t.$$.fragment,s),o=!0)},o(s){d(t.$$.fragment,s),o=!1},d(s){s&&$(n),k(t,s)}}}function Rn(f){let e=[],n=new Map,t,o,s=Q(f[5]);const l=r=>r[29].id;for(let r=0;r<s.length;r+=1){let a=_t(f,s,r),i=l(a);n.set(i,e[r]=vt(i,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=F()},l(r){for(let a=0;a<e.length;a+=1)e[a].l(r);t=F()},m(r,a){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(r,a);g(r,t,a),o=!0},p(r,a){a[0]&32|a[1]&34&&(s=Q(r[5]),he(),e=Re(e,a,l,1,r,s,n,t.parentNode,Le,vt,t,_t),be())},i(r){if(!o){for(let a=0;a<s.length;a+=1)m(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)d(e[a]);o=!1},d(r){r&&$(t);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function Ln(f){let e,n,t,o;e=new Ut({props:{$$slots:{default:[In]},$$scope:{ctx:f}}});const s=[f[4]];let l={$$slots:{default:[Rn]},$$scope:{ctx:f}};for(let r=0;r<s.length;r+=1)l=$e(l,s[r]);return t=new Ht({props:l}),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment)},l(r){w(e.$$.fragment,r),n=N(r),w(t.$$.fragment,r)},m(r,a){v(e,r,a),g(r,n,a),v(t,r,a),o=!0},p(r,a){const i={};a[0]&8|a[1]&2048&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const h=a[0]&16?ce(s,[pe(r[4])]):{};a[0]&32|a[1]&2048&&(h.$$scope={dirty:a,ctx:r}),t.$set(h)},i(r){o||(m(e.$$.fragment,r),m(t.$$.fragment,r),o=!0)},o(r){d(e.$$.fragment,r),d(t.$$.fragment,r),o=!1},d(r){r&&$(n),k(e,r),k(t,r)}}}function jn(f){let e,n,t="Créneaux :",o,s,l,r,a,i,h;function _(u){f[19](u)}let E={type:"text",placeholder:"Rechercher par nom ou description...",class:"max-w-xs"};f[1]!==void 0&&(E.value=f[1]),s=new Pe({props:E}),Ne.push(()=>Ie(s,"value",_));const p=[f[2]];let c={$$slots:{default:[Ln]},$$scope:{ctx:f}};for(let u=0;u<p.length;u+=1)c=$e(c,p[u]);return i=new Bt({props:c}),{c(){e=O("div"),n=O("h2"),n.textContent=t,o=T(),b(s.$$.fragment),r=T(),a=O("div"),b(i.$$.fragment),this.h()},l(u){e=R(u,"DIV",{class:!0});var C=G(e);n=R(C,"H2",{class:!0,"data-svelte-h":!0}),le(n)!=="svelte-jb09ko"&&(n.textContent=t),o=N(C),w(s.$$.fragment,C),C.forEach($),r=N(u),a=R(u,"DIV",{class:!0});var M=G(a);w(i.$$.fragment,M),M.forEach($),this.h()},h(){D(n,"class","text-base font-semibold"),D(e,"class","flex items-center justify-between gap-4"),D(a,"class","rounded-md border w-full")},m(u,C){g(u,e,C),P(e,n),P(e,o),v(s,e,null),g(u,r,C),g(u,a,C),v(i,a,null),h=!0},p(u,C){const M={};!l&&C[0]&2&&(l=!0,M.value=u[1],Ae(()=>l=!1)),s.$set(M);const J=C[0]&4?ce(p,[pe(u[2])]):{};C[0]&56|C[1]&2048&&(J.$$scope={dirty:C,ctx:u}),i.$set(J)},i(u){h||(m(s.$$.fragment,u),m(i.$$.fragment,u),h=!0)},o(u){d(s.$$.fragment,u),d(i.$$.fragment,u),h=!1},d(u){u&&($(e),$(r),$(a)),k(s),k(i)}}}function Vn(f){let e;return{c(){e=L("Previous")},l(n){e=j(n,"Previous")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Fn(f){let e;return{c(){e=L("Next")},l(n){e=j(n,"Next")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Bn(f){let e,n,t,o,s,l=f[6]+1+"",r,a,i,h,_,E;return n=new ae({props:{variant:"outline",size:"sm",disabled:!f[7],$$slots:{default:[Vn]},$$scope:{ctx:f}}}),n.$on("click",f[20]),_=new ae({props:{variant:"outline",size:"sm",disabled:!f[9],$$slots:{default:[Fn]},$$scope:{ctx:f}}}),_.$on("click",f[21]),{c(){e=O("div"),b(n.$$.fragment),t=T(),o=O("span"),s=L("Page "),r=L(l),a=L(" / "),i=L(f[8]),h=T(),b(_.$$.fragment),this.h()},l(p){e=R(p,"DIV",{class:!0});var c=G(e);w(n.$$.fragment,c),t=N(c),o=R(c,"SPAN",{class:!0});var u=G(o);s=j(u,"Page "),r=j(u,l),a=j(u," / "),i=j(u,f[8]),u.forEach($),h=N(c),w(_.$$.fragment,c),c.forEach($),this.h()},h(){D(o,"class","text-gray-500"),D(e,"class","flex items-center justify-end space-x-4 py-4")},m(p,c){g(p,e,c),v(n,e,null),P(e,t),P(e,o),P(o,s),P(o,r),P(o,a),P(o,i),P(e,h),v(_,e,null),E=!0},p(p,c){const u={};c[0]&128&&(u.disabled=!p[7]),c[1]&2048&&(u.$$scope={dirty:c,ctx:p}),n.$set(u),(!E||c[0]&64)&&l!==(l=p[6]+1+"")&&qe(r,l),(!E||c[0]&256)&&qe(i,p[8]);const C={};c[0]&512&&(C.disabled=!p[9]),c[1]&2048&&(C.$$scope={dirty:c,ctx:p}),_.$set(C)},i(p){E||(m(n.$$.fragment,p),m(_.$$.fragment,p),E=!0)},o(p){d(n.$$.fragment,p),d(_.$$.fragment,p),E=!1},d(p){p&&$(e),k(n),k(_)}}}function Un(f){let e,n,t,o='<div class="absolute inset-0 flex items-center"><span class="w-full border-t"></span></div>',s,l,r;return e=new Pt({props:{class:"flex flex-col gap-4 pt-6",$$slots:{default:[jn]},$$scope:{ctx:f}}}),l=new Dt({props:{$$slots:{default:[Bn]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment),n=T(),t=O("div"),t.innerHTML=o,s=T(),b(l.$$.fragment),this.h()},l(a){w(e.$$.fragment,a),n=N(a),t=R(a,"DIV",{class:!0,"data-svelte-h":!0}),le(t)!=="svelte-hn2wyx"&&(t.innerHTML=o),s=N(a),w(l.$$.fragment,a),this.h()},h(){D(t,"class","relative")},m(a,i){v(e,a,i),g(a,n,i),g(a,t,i),g(a,s,i),v(l,a,i),r=!0},p(a,i){const h={};i[0]&62|i[1]&2048&&(h.$$scope={dirty:i,ctx:a}),e.$set(h);const _={};i[0]&960|i[1]&2048&&(_.$$scope={dirty:i,ctx:a}),l.$set(_)},i(a){r||(m(e.$$.fragment,a),m(l.$$.fragment,a),r=!0)},o(a){d(e.$$.fragment,a),d(l.$$.fragment,a),r=!1},d(a){a&&($(n),$(t),$(s)),k(e,a),k(l,a)}}}function Hn(f,e,n){let t,o=We,s=()=>(o(),o=sn(u,S=>n(23,t=S)),u),l,r,a,i,h,_,E,p;f.$$.on_destroy.push(()=>o());let{slots:c}=e,{users:u}=e;s();let C="",M=[],J=qt([]);c.subscribe(S=>{M=S,te()});function te(){if(C.trim()==="")J.set(M);else{const S=C.toLowerCase(),K=M.filter(ee=>ee.name&&ee.name.toLowerCase().includes(S)||ee.description&&ee.description.toLowerCase().includes(S));J.set(K)}}const B=Qt(J,{page:Kt({initialPageSize:5})}),ne=B.createColumns([B.column({accessor:({id:S})=>S.substring(0,8)+"...",header:"ID"}),B.column({accessor:"name",header:"Nom"}),B.column({accessor:({description:S})=>(S==null?void 0:S.substring(0,20))+"...",header:"Description"}),B.column({accessor:({starts_at:S})=>new Date(S).toLocaleString(),header:"Début"}),B.column({accessor:({ends_at:S})=>new Date(S).toLocaleString(),header:"Fin"}),B.column({accessor:"capacity",header:"Jauge"}),B.column({accessor:"slot_type",header:"Type",cell:({value:S})=>S==="EVENEMENT"?"Évènement":S==="FERMETURE"?"Fermeture":"Créneau"}),B.column({accessor:S=>{const K=S.responsibles;if(K&&K.length>0)return K.map(W=>`${W.first_name} ${W.last_name}`).join(", ");const ee=t.find(W=>W.id===S.owner_id);return ee?`${ee.first_name} ${ee.last_name}`:""},header:"Responsables"}),B.column({accessor:({id:S})=>S,header:"Modifier",cell:({value:S})=>Ft(En,{id:S})})]),{headerRows:oe,pageRows:Z,tableAttrs:y,tableBodyAttrs:se,pluginStates:fe}=B.createViewModel(ne);x(f,oe,S=>n(3,r=S)),x(f,Z,S=>n(5,i=S)),x(f,y,S=>n(2,l=S)),x(f,se,S=>n(4,a=S));const{hasNextPage:q,hasPreviousPage:ie,pageIndex:V,pageCount:A}=fe.page;x(f,q,S=>n(9,p=S)),x(f,ie,S=>n(7,_=S)),x(f,V,S=>n(6,h=S)),x(f,A,S=>n(8,E=S));function z(S){C=S,n(1,C)}const H=()=>Qe(V,h=h-1,h),we=()=>Qe(V,h=h+1,h);return f.$$set=S=>{"slots"in S&&n(18,c=S.slots),"users"in S&&s(n(0,u=S.users))},f.$$.update=()=>{f.$$.dirty[0]&2&&te()},[u,C,l,r,a,i,h,_,E,p,oe,Z,y,se,q,ie,V,A,c,z,H,we]}class Gn extends Ue{constructor(e){super(),He(this,e,Hn,Un,Be,{slots:18,users:0},null,[-1,-1])}}function Jn(f){let e,n="Open menu",t,o,s;return o=new jt({props:{class:"h-4 w-4"}}),{c(){e=O("span"),e.textContent=n,t=T(),b(o.$$.fragment),this.h()},l(l){e=R(l,"SPAN",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-rsbkxi"&&(e.textContent=n),t=N(l),w(o.$$.fragment,l),this.h()},h(){D(e,"class","sr-only")},m(l,r){g(l,e,r),g(l,t,r),v(o,l,r),s=!0},p:We,i(l){s||(m(o.$$.fragment,l),s=!0)},o(l){d(o.$$.fragment,l),s=!1},d(l){l&&($(e),$(t)),k(o,l)}}}function zn(f){let e,n;return e=new ae({props:{variant:"ghost",builders:[f[7]],size:"icon",class:"relative h-8 w-8 p-0",$$slots:{default:[Jn]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,o){v(e,t,o),n=!0},p(t,o){const s={};o&128&&(s.builders=[t[7]]),o&256&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function qn(f){let e;return{c(){e=L("Actions")},l(n){e=j(n,"Actions")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Qn(f){let e;return{c(){e=L("Copier l'identifiant")},l(n){e=j(n,"Copier l'identifiant")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Kn(f){let e,n,t,o;return e=new Vt({props:{$$slots:{default:[qn]},$$scope:{ctx:f}}}),t=new ge({props:{$$slots:{default:[Qn]},$$scope:{ctx:f}}}),t.$on("click",f[1]),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment)},l(s){w(e.$$.fragment,s),n=N(s),w(t.$$.fragment,s)},m(s,l){v(e,s,l),g(s,n,l),v(t,s,l),o=!0},p(s,l){const r={};l&256&&(r.$$scope={dirty:l,ctx:s}),e.$set(r);const a={};l&256&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){o||(m(e.$$.fragment,s),m(t.$$.fragment,s),o=!0)},o(s){d(e.$$.fragment,s),d(t.$$.fragment,s),o=!1},d(s){s&&$(n),k(e,s),k(t,s)}}}function Wn(f){let e;return{c(){e=L("Modifier instructor")},l(n){e=j(n,"Modifier instructor")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Xn(f){let e;return{c(){e=L("Modifier root")},l(n){e=j(n,"Modifier root")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Yn(f){let e;return{c(){e=L("Modifier cotisant AS")},l(n){e=j(n,"Modifier cotisant AS")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Zn(f){let e;return{c(){e=L("Modifier cotisant Gr'INP")},l(n){e=j(n,"Modifier cotisant Gr'INP")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function xn(f){let e;return{c(){e=L("Supprimer l'utilisateur")},l(n){e=j(n,"Supprimer l'utilisateur")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function yn(f){let e,n,t,o,s,l,r,a,i,h;return e=new ge({props:{$$slots:{default:[Wn]},$$scope:{ctx:f}}}),e.$on("click",f[2]),t=new ge({props:{$$slots:{default:[Xn]},$$scope:{ctx:f}}}),t.$on("click",f[3]),s=new ge({props:{$$slots:{default:[Yn]},$$scope:{ctx:f}}}),s.$on("click",f[4]),r=new ge({props:{$$slots:{default:[Zn]},$$scope:{ctx:f}}}),r.$on("click",f[5]),i=new ge({props:{$$slots:{default:[xn]},$$scope:{ctx:f}}}),i.$on("click",f[6]),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment),o=T(),b(s.$$.fragment),l=T(),b(r.$$.fragment),a=T(),b(i.$$.fragment)},l(_){w(e.$$.fragment,_),n=N(_),w(t.$$.fragment,_),o=N(_),w(s.$$.fragment,_),l=N(_),w(r.$$.fragment,_),a=N(_),w(i.$$.fragment,_)},m(_,E){v(e,_,E),g(_,n,E),v(t,_,E),g(_,o,E),v(s,_,E),g(_,l,E),v(r,_,E),g(_,a,E),v(i,_,E),h=!0},p(_,E){const p={};E&256&&(p.$$scope={dirty:E,ctx:_}),e.$set(p);const c={};E&256&&(c.$$scope={dirty:E,ctx:_}),t.$set(c);const u={};E&256&&(u.$$scope={dirty:E,ctx:_}),s.$set(u);const C={};E&256&&(C.$$scope={dirty:E,ctx:_}),r.$set(C);const M={};E&256&&(M.$$scope={dirty:E,ctx:_}),i.$set(M)},i(_){h||(m(e.$$.fragment,_),m(t.$$.fragment,_),m(s.$$.fragment,_),m(r.$$.fragment,_),m(i.$$.fragment,_),h=!0)},o(_){d(e.$$.fragment,_),d(t.$$.fragment,_),d(s.$$.fragment,_),d(r.$$.fragment,_),d(i.$$.fragment,_),h=!1},d(_){_&&($(n),$(o),$(l),$(a)),k(e,_),k(t,_),k(s,_),k(r,_),k(i,_)}}}function es(f){let e,n,t,o,s,l;return e=new Ke({props:{$$slots:{default:[Kn]},$$scope:{ctx:f}}}),t=new Lt({}),s=new Ke({props:{$$slots:{default:[yn]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment),o=T(),b(s.$$.fragment)},l(r){w(e.$$.fragment,r),n=N(r),w(t.$$.fragment,r),o=N(r),w(s.$$.fragment,r)},m(r,a){v(e,r,a),g(r,n,a),v(t,r,a),g(r,o,a),v(s,r,a),l=!0},p(r,a){const i={};a&257&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const h={};a&257&&(h.$$scope={dirty:a,ctx:r}),s.$set(h)},i(r){l||(m(e.$$.fragment,r),m(t.$$.fragment,r),m(s.$$.fragment,r),l=!0)},o(r){d(e.$$.fragment,r),d(t.$$.fragment,r),d(s.$$.fragment,r),l=!1},d(r){r&&($(n),$(o)),k(e,r),k(t,r),k(s,r)}}}function ts(f){let e,n,t,o;return e=new Ot({props:{asChild:!0,$$slots:{default:[zn,({builder:s})=>({7:s}),({builder:s})=>s?128:0]},$$scope:{ctx:f}}}),t=new Rt({props:{$$slots:{default:[es]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment)},l(s){w(e.$$.fragment,s),n=N(s),w(t.$$.fragment,s)},m(s,l){v(e,s,l),g(s,n,l),v(t,s,l),o=!0},p(s,l){const r={};l&384&&(r.$$scope={dirty:l,ctx:s}),e.$set(r);const a={};l&257&&(a.$$scope={dirty:l,ctx:s}),t.$set(a)},i(s){o||(m(e.$$.fragment,s),m(t.$$.fragment,s),o=!0)},o(s){d(e.$$.fragment,s),d(t.$$.fragment,s),o=!1},d(s){s&&$(n),k(e,s),k(t,s)}}}function ns(f){let e,n;return e=new Mt({props:{$$slots:{default:[ts]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,o){v(e,t,o),n=!0},p(t,[o]){const s={};o&257&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}async function ss(f){if(!confirm("Êtes-vous sûr de vouloir basculer le statut instructeur de ce membre ?"))return;(await fetch("/api/users/promote_instructor",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:f})})).ok&&location.reload()}async function rs(f){await fetch("/api/users/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:f})})}async function ls(f){(await fetch("/api/users/toggle_cotisant_as",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:f})})).ok&&location.reload()}async function as(f){(await fetch("/api/users/toggle_cotisant_grinp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:f})})).ok&&location.reload()}async function os(f){if(!confirm("Êtes-vous sûr de vouloir basculer le statut administrateur de ce membre ?"))return;(await fetch("/api/users/toggle_admin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:f})})).ok&&location.reload()}function fs(f,e,n){let{id:t}=e;const o=()=>navigator.clipboard.writeText(t),s=()=>ss(t),l=()=>os(t),r=()=>ls(t),a=()=>as(t),i=()=>rs(t);return f.$$set=h=>{"id"in h&&n(0,t=h.id)},[t,o,s,l,r,a,i]}class is extends Ue{constructor(e){super(),He(this,e,fs,ns,Be,{id:0})}}function kt(f,e,n){const t=f.slice();return t[27]=e[n],t}function Ct(f,e,n){const t=f.slice();return t[31]=e[n],t}function Et(f,e,n){const t=f.slice();return t[35]=e[n],t}function St(f,e,n){const t=f.slice();return t[31]=e[n],t}function us(f){let e,n;return e=new Ye({props:{of:f[31].render()}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,o){v(e,t,o),n=!0},p(t,o){const s={};o[0]&4&&(s.of=t[31].render()),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function $s(f){let e,n,t;const o=[f[34]];let s={$$slots:{default:[us]},$$scope:{ctx:f}};for(let l=0;l<o.length;l+=1)s=$e(s,o[l]);return e=new Gt({props:s}),{c(){b(e.$$.fragment),n=T()},l(l){w(e.$$.fragment,l),n=N(l)},m(l,r){v(e,l,r),g(l,n,r),t=!0},p(l,r){const a=r[1]&8?ce(o,[pe(l[34])]):{};r[0]&4|r[1]&512&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){l&&$(n),k(e,l)}}}function Tt(f,e){let n,t,o;return t=new ke({props:{attrs:e[31].attrs(),props:e[31].props(),$$slots:{default:[$s,({attrs:s})=>({34:s}),({attrs:s})=>[0,s?8:0]]},$$scope:{ctx:e}}}),{key:f,first:null,c(){n=F(),b(t.$$.fragment),this.h()},l(s){n=F(),w(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,l){g(s,n,l),v(t,s,l),o=!0},p(s,l){e=s;const r={};l[0]&4&&(r.attrs=e[31].attrs()),l[0]&4&&(r.props=e[31].props()),l[0]&4|l[1]&520&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(s){o||(m(t.$$.fragment,s),o=!0)},o(s){d(t.$$.fragment,s),o=!1},d(s){s&&$(n),k(t,s)}}}function cs(f){let e=[],n=new Map,t,o,s=Q(f[35].cells);const l=r=>r[31].id;for(let r=0;r<s.length;r+=1){let a=St(f,s,r),i=l(a);n.set(i,e[r]=Tt(i,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=F()},l(r){for(let a=0;a<e.length;a+=1)e[a].l(r);t=F()},m(r,a){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(r,a);g(r,t,a),o=!0},p(r,a){a[0]&4|a[1]&8&&(s=Q(r[35].cells),he(),e=Re(e,a,l,1,r,s,n,t.parentNode,Le,Tt,t,St),be())},i(r){if(!o){for(let a=0;a<s.length;a+=1)m(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)d(e[a]);o=!1},d(r){r&&$(t);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function ps(f){let e,n,t;return e=new Xe({props:{$$slots:{default:[cs]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment),n=T()},l(o){w(e.$$.fragment,o),n=N(o)},m(o,s){v(e,o,s),g(o,n,s),t=!0},p(o,s){const l={};s[0]&4|s[1]&512&&(l.$$scope={dirty:s,ctx:o}),e.$set(l)},i(o){t||(m(e.$$.fragment,o),t=!0)},o(o){d(e.$$.fragment,o),t=!1},d(o){o&&$(n),k(e,o)}}}function Nt(f){let e,n;return e=new ke({props:{rowAttrs:f[35].attrs(),$$slots:{default:[ps]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,o){v(e,t,o),n=!0},p(t,o){const s={};o[0]&4&&(s.rowAttrs=t[35].attrs()),o[0]&4|o[1]&512&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function _s(f){let e,n,t=Q(f[2]),o=[];for(let l=0;l<t.length;l+=1)o[l]=Nt(Et(f,t,l));const s=l=>d(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=F()},l(l){for(let r=0;r<o.length;r+=1)o[r].l(l);e=F()},m(l,r){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(l,r);g(l,e,r),n=!0},p(l,r){if(r[0]&4|r[1]&8){t=Q(l[2]);let a;for(a=0;a<t.length;a+=1){const i=Et(l,t,a);o[a]?(o[a].p(i,r),m(o[a],1)):(o[a]=Nt(i),o[a].c(),m(o[a],1),o[a].m(e.parentNode,e))}for(he(),a=t.length;a<o.length;a+=1)s(a);be()}},i(l){if(!n){for(let r=0;r<t.length;r+=1)m(o[r]);n=!0}},o(l){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)d(o[r]);n=!1},d(l){l&&$(e),st(o,l)}}}function ms(f){let e,n;return e=new Ye({props:{of:f[31].render()}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,o){v(e,t,o),n=!0},p(t,o){const s={};o[0]&16&&(s.of=t[31].render()),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}function ds(f){let e,n,t;const o=[f[34]];let s={$$slots:{default:[ms]},$$scope:{ctx:f}};for(let l=0;l<o.length;l+=1)s=$e(s,o[l]);return e=new Jt({props:s}),{c(){b(e.$$.fragment),n=T()},l(l){w(e.$$.fragment,l),n=N(l)},m(l,r){v(e,l,r),g(l,n,r),t=!0},p(l,r){const a=r[1]&8?ce(o,[pe(l[34])]):{};r[0]&16|r[1]&512&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){l&&$(n),k(e,l)}}}function At(f,e){let n,t,o;return t=new ke({props:{attrs:e[31].attrs(),$$slots:{default:[ds,({attrs:s})=>({34:s}),({attrs:s})=>[0,s?8:0]]},$$scope:{ctx:e}}}),{key:f,first:null,c(){n=F(),b(t.$$.fragment),this.h()},l(s){n=F(),w(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,l){g(s,n,l),v(t,s,l),o=!0},p(s,l){e=s;const r={};l[0]&16&&(r.attrs=e[31].attrs()),l[0]&16|l[1]&520&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(s){o||(m(t.$$.fragment,s),o=!0)},o(s){d(t.$$.fragment,s),o=!1},d(s){s&&$(n),k(t,s)}}}function gs(f){let e=[],n=new Map,t,o,s=Q(f[27].cells);const l=r=>r[31].id;for(let r=0;r<s.length;r+=1){let a=Ct(f,s,r),i=l(a);n.set(i,e[r]=At(i,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=F()},l(r){for(let a=0;a<e.length;a+=1)e[a].l(r);t=F()},m(r,a){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(r,a);g(r,t,a),o=!0},p(r,a){a[0]&16|a[1]&8&&(s=Q(r[27].cells),he(),e=Re(e,a,l,1,r,s,n,t.parentNode,Le,At,t,Ct),be())},i(r){if(!o){for(let a=0;a<s.length;a+=1)m(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)d(e[a]);o=!1},d(r){r&&$(t);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function hs(f){let e,n,t;const o=[f[30]];let s={$$slots:{default:[gs]},$$scope:{ctx:f}};for(let l=0;l<o.length;l+=1)s=$e(s,o[l]);return e=new Xe({props:s}),{c(){b(e.$$.fragment),n=T()},l(l){w(e.$$.fragment,l),n=N(l)},m(l,r){v(e,l,r),g(l,n,r),t=!0},p(l,r){const a=r[0]&1073741824?ce(o,[pe(l[30])]):{};r[0]&16|r[1]&512&&(a.$$scope={dirty:r,ctx:l}),e.$set(a)},i(l){t||(m(e.$$.fragment,l),t=!0)},o(l){d(e.$$.fragment,l),t=!1},d(l){l&&$(n),k(e,l)}}}function It(f,e){let n,t,o;return t=new ke({props:{rowAttrs:e[27].attrs(),$$slots:{default:[hs,({rowAttrs:s})=>({30:s}),({rowAttrs:s})=>[s?1073741824:0]]},$$scope:{ctx:e}}}),{key:f,first:null,c(){n=F(),b(t.$$.fragment),this.h()},l(s){n=F(),w(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,l){g(s,n,l),v(t,s,l),o=!0},p(s,l){e=s;const r={};l[0]&16&&(r.rowAttrs=e[27].attrs()),l[0]&1073741840|l[1]&512&&(r.$$scope={dirty:l,ctx:e}),t.$set(r)},i(s){o||(m(t.$$.fragment,s),o=!0)},o(s){d(t.$$.fragment,s),o=!1},d(s){s&&$(n),k(t,s)}}}function bs(f){let e=[],n=new Map,t,o,s=Q(f[4]);const l=r=>r[27].id;for(let r=0;r<s.length;r+=1){let a=kt(f,s,r),i=l(a);n.set(i,e[r]=It(i,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=F()},l(r){for(let a=0;a<e.length;a+=1)e[a].l(r);t=F()},m(r,a){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(r,a);g(r,t,a),o=!0},p(r,a){a[0]&1073741840|a[1]&8&&(s=Q(r[4]),he(),e=Re(e,a,l,1,r,s,n,t.parentNode,Le,It,t,kt),be())},i(r){if(!o){for(let a=0;a<s.length;a+=1)m(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)d(e[a]);o=!1},d(r){r&&$(t);for(let a=0;a<e.length;a+=1)e[a].d(r)}}}function ws(f){let e,n,t,o;e=new Ut({props:{$$slots:{default:[_s]},$$scope:{ctx:f}}});const s=[f[3]];let l={$$slots:{default:[bs]},$$scope:{ctx:f}};for(let r=0;r<s.length;r+=1)l=$e(l,s[r]);return t=new Ht({props:l}),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment)},l(r){w(e.$$.fragment,r),n=N(r),w(t.$$.fragment,r)},m(r,a){v(e,r,a),g(r,n,a),v(t,r,a),o=!0},p(r,a){const i={};a[0]&4|a[1]&512&&(i.$$scope={dirty:a,ctx:r}),e.$set(i);const h=a[0]&8?ce(s,[pe(r[3])]):{};a[0]&16|a[1]&512&&(h.$$scope={dirty:a,ctx:r}),t.$set(h)},i(r){o||(m(e.$$.fragment,r),m(t.$$.fragment,r),o=!0)},o(r){d(e.$$.fragment,r),d(t.$$.fragment,r),o=!1},d(r){r&&$(n),k(e,r),k(t,r)}}}function vs(f){let e,n,t="Utilisateurs :",o,s,l,r,a,i,h;function _(u){f[18](u)}let E={type:"text",placeholder:"Rechercher par nom, email ou Churros UID...",class:"max-w-xs"};f[0]!==void 0&&(E.value=f[0]),s=new Pe({props:E}),Ne.push(()=>Ie(s,"value",_));const p=[f[1]];let c={$$slots:{default:[ws]},$$scope:{ctx:f}};for(let u=0;u<p.length;u+=1)c=$e(c,p[u]);return i=new Bt({props:c}),{c(){e=O("div"),n=O("h2"),n.textContent=t,o=T(),b(s.$$.fragment),r=T(),a=O("div"),b(i.$$.fragment),this.h()},l(u){e=R(u,"DIV",{class:!0});var C=G(e);n=R(C,"H2",{class:!0,"data-svelte-h":!0}),le(n)!=="svelte-oef2f9"&&(n.textContent=t),o=N(C),w(s.$$.fragment,C),C.forEach($),r=N(u),a=R(u,"DIV",{class:!0});var M=G(a);w(i.$$.fragment,M),M.forEach($),this.h()},h(){D(n,"class","text-base font-semibold"),D(e,"class","flex items-center justify-between gap-4"),D(a,"class","rounded-md border w-full")},m(u,C){g(u,e,C),P(e,n),P(e,o),v(s,e,null),g(u,r,C),g(u,a,C),v(i,a,null),h=!0},p(u,C){const M={};!l&&C[0]&1&&(l=!0,M.value=u[0],Ae(()=>l=!1)),s.$set(M);const J=C[0]&2?ce(p,[pe(u[1])]):{};C[0]&28|C[1]&512&&(J.$$scope={dirty:C,ctx:u}),i.$set(J)},i(u){h||(m(s.$$.fragment,u),m(i.$$.fragment,u),h=!0)},o(u){d(s.$$.fragment,u),d(i.$$.fragment,u),h=!1},d(u){u&&($(e),$(r),$(a)),k(s),k(i)}}}function ks(f){let e;return{c(){e=L("Previous")},l(n){e=j(n,"Previous")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Cs(f){let e;return{c(){e=L("Next")},l(n){e=j(n,"Next")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Es(f){let e,n,t,o,s,l=f[5]+1+"",r,a,i,h,_,E;return n=new ae({props:{variant:"outline",size:"sm",disabled:!f[6],$$slots:{default:[ks]},$$scope:{ctx:f}}}),n.$on("click",f[19]),_=new ae({props:{variant:"outline",size:"sm",disabled:!f[8],$$slots:{default:[Cs]},$$scope:{ctx:f}}}),_.$on("click",f[20]),{c(){e=O("div"),b(n.$$.fragment),t=T(),o=O("span"),s=L("Page "),r=L(l),a=L(" / "),i=L(f[7]),h=T(),b(_.$$.fragment),this.h()},l(p){e=R(p,"DIV",{class:!0});var c=G(e);w(n.$$.fragment,c),t=N(c),o=R(c,"SPAN",{class:!0});var u=G(o);s=j(u,"Page "),r=j(u,l),a=j(u," / "),i=j(u,f[7]),u.forEach($),h=N(c),w(_.$$.fragment,c),c.forEach($),this.h()},h(){D(o,"class","text-gray-500"),D(e,"class","flex items-center justify-end space-x-4 py-4")},m(p,c){g(p,e,c),v(n,e,null),P(e,t),P(e,o),P(o,s),P(o,r),P(o,a),P(o,i),P(e,h),v(_,e,null),E=!0},p(p,c){const u={};c[0]&64&&(u.disabled=!p[6]),c[1]&512&&(u.$$scope={dirty:c,ctx:p}),n.$set(u),(!E||c[0]&32)&&l!==(l=p[5]+1+"")&&qe(r,l),(!E||c[0]&128)&&qe(i,p[7]);const C={};c[0]&256&&(C.disabled=!p[8]),c[1]&512&&(C.$$scope={dirty:c,ctx:p}),_.$set(C)},i(p){E||(m(n.$$.fragment,p),m(_.$$.fragment,p),E=!0)},o(p){d(n.$$.fragment,p),d(_.$$.fragment,p),E=!1},d(p){p&&$(e),k(n),k(_)}}}function Ss(f){let e,n,t,o='<div class="absolute inset-0 flex items-center"><span class="w-full border-t"></span></div>',s,l,r;return e=new Pt({props:{class:"flex flex-col gap-4 pt-6",$$slots:{default:[vs]},$$scope:{ctx:f}}}),l=new Dt({props:{$$slots:{default:[Es]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment),n=T(),t=O("div"),t.innerHTML=o,s=T(),b(l.$$.fragment),this.h()},l(a){w(e.$$.fragment,a),n=N(a),t=R(a,"DIV",{class:!0,"data-svelte-h":!0}),le(t)!=="svelte-hn2wyx"&&(t.innerHTML=o),s=N(a),w(l.$$.fragment,a),this.h()},h(){D(t,"class","relative")},m(a,i){v(e,a,i),g(a,n,i),g(a,t,i),g(a,s,i),v(l,a,i),r=!0},p(a,i){const h={};i[0]&31|i[1]&512&&(h.$$scope={dirty:i,ctx:a}),e.$set(h);const _={};i[0]&480|i[1]&512&&(_.$$scope={dirty:i,ctx:a}),l.$set(_)},i(a){r||(m(e.$$.fragment,a),m(l.$$.fragment,a),r=!0)},o(a){d(e.$$.fragment,a),d(l.$$.fragment,a),r=!1},d(a){a&&($(n),$(t),$(s)),k(e,a),k(l,a)}}}function Ts(f,e,n){let t,o,s,l,r,a,i,h,{users:_}=e,E="",p=[],c=qt([]);_.subscribe(A=>{p=A,u()});function u(){if(E.trim()==="")c.set(p);else{const A=E.toLowerCase(),z=p.filter(H=>H.first_name.toLowerCase().includes(A)||H.last_name.toLowerCase().includes(A)||H.email.toLowerCase().includes(A)||H.churros_uid&&H.churros_uid.toLowerCase().includes(A));c.set(z)}}const C=Qt(c,{page:Kt({initialPageSize:5})}),M=C.createColumns([C.column({accessor:({id:A})=>A.substring(0,8)+"...",header:"ID"}),C.column({accessor:"churros_uid",header:"Churros UID"}),C.column({accessor:"first_name",header:"First Name"}),C.column({accessor:"last_name",header:"Last Name"}),C.column({accessor:"email",header:"Email"}),C.column({accessor:"root",header:"Root"}),C.column({accessor:"instructor",header:"Instructor"}),C.column({accessor:"cotisant_as",header:"Cotisant AS"}),C.column({accessor:"cotisant_grinp",header:"Cotisant Grinp"}),C.column({accessor:({id:A})=>A,header:"Modifier",cell:({value:A})=>Ft(is,{id:A})})]),{headerRows:J,pageRows:te,tableAttrs:B,tableBodyAttrs:ne,pluginStates:oe}=C.createViewModel(M);x(f,J,A=>n(2,o=A)),x(f,te,A=>n(4,l=A)),x(f,B,A=>n(1,t=A)),x(f,ne,A=>n(3,s=A));const{hasNextPage:Z,hasPreviousPage:y,pageIndex:se,pageCount:fe}=oe.page;x(f,Z,A=>n(8,h=A)),x(f,y,A=>n(6,a=A)),x(f,se,A=>n(5,r=A)),x(f,fe,A=>n(7,i=A));function q(A){E=A,n(0,E)}const ie=()=>Qe(se,r=r-1,r),V=()=>Qe(se,r=r+1,r);return f.$$set=A=>{"users"in A&&n(17,_=A.users)},f.$$.update=()=>{f.$$.dirty[0]&1&&u()},[E,t,o,s,l,r,a,i,h,J,te,B,ne,Z,y,se,fe,_,q,ie,V]}class Ns extends Ue{constructor(e){super(),He(this,e,Ts,Ss,Be,{users:17},null,[-1,-1])}}function As(f){let e;return{c(){e=L("Admin")},l(n){e=j(n,"Admin")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Is(f){let e;return{c(){e=L("Pannel admin du site")},l(n){e=j(n,"Pannel admin du site")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Ps(f){let e;return{c(){e=L("Réinitialiser cotisations AS")},l(n){e=j(n,"Réinitialiser cotisations AS")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Ds(f){let e;return{c(){e=L("Réinitialiser cotisations Gr'INP")},l(n){e=j(n,"Réinitialiser cotisations Gr'INP")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Ms(f){let e;return{c(){e=L("Télécharger la base")},l(n){e=j(n,"Télécharger la base")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Os(f){let e;return{c(){e=L("Réinitialiser la base complète")},l(n){e=j(n,"Réinitialiser la base complète")},m(n,t){g(n,e,t)},d(n){n&&$(e)}}}function Rs(f){let e,n,t,o,s,l,r,a,i,h,_,E,p;return e=new an({props:{$$slots:{default:[As]},$$scope:{ctx:f}}}),t=new on({props:{$$slots:{default:[Is]},$$scope:{ctx:f}}}),l=new ae({props:{variant:"outline",$$slots:{default:[Ps]},$$scope:{ctx:f}}}),l.$on("click",Vs),a=new ae({props:{variant:"outline",$$slots:{default:[Ds]},$$scope:{ctx:f}}}),a.$on("click",Fs),h=new ae({props:{variant:"outline",$$slots:{default:[Ms]},$$scope:{ctx:f}}}),h.$on("click",Us),E=new ae({props:{variant:"destructive",$$slots:{default:[Os]},$$scope:{ctx:f}}}),E.$on("click",Bs),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment),o=T(),s=O("div"),b(l.$$.fragment),r=T(),b(a.$$.fragment),i=T(),b(h.$$.fragment),_=T(),b(E.$$.fragment),this.h()},l(c){w(e.$$.fragment,c),n=N(c),w(t.$$.fragment,c),o=N(c),s=R(c,"DIV",{class:!0});var u=G(s);w(l.$$.fragment,u),r=N(u),w(a.$$.fragment,u),i=N(u),w(h.$$.fragment,u),_=N(u),w(E.$$.fragment,u),u.forEach($),this.h()},h(){D(s,"class","flex flex-wrap gap-2 pt-4")},m(c,u){v(e,c,u),g(c,n,u),v(t,c,u),g(c,o,u),g(c,s,u),v(l,s,null),P(s,r),v(a,s,null),P(s,i),v(h,s,null),P(s,_),v(E,s,null),p=!0},p(c,u){const C={};u&2&&(C.$$scope={dirty:u,ctx:c}),e.$set(C);const M={};u&2&&(M.$$scope={dirty:u,ctx:c}),t.$set(M);const J={};u&2&&(J.$$scope={dirty:u,ctx:c}),l.$set(J);const te={};u&2&&(te.$$scope={dirty:u,ctx:c}),a.$set(te);const B={};u&2&&(B.$$scope={dirty:u,ctx:c}),h.$set(B);const ne={};u&2&&(ne.$$scope={dirty:u,ctx:c}),E.$set(ne)},i(c){p||(m(e.$$.fragment,c),m(t.$$.fragment,c),m(l.$$.fragment,c),m(a.$$.fragment,c),m(h.$$.fragment,c),m(E.$$.fragment,c),p=!0)},o(c){d(e.$$.fragment,c),d(t.$$.fragment,c),d(l.$$.fragment,c),d(a.$$.fragment,c),d(h.$$.fragment,c),d(E.$$.fragment,c),p=!1},d(c){c&&($(n),$(o),$(s)),k(e,c),k(t,c),k(l),k(a),k(h),k(E)}}}function Ls(f){let e,n,t,o='<div class="absolute inset-0 flex items-center"><span class="m-4 w-full border-t"></span></div>',s,l,r,a,i='<div class="absolute inset-0 flex items-center"><span class="m-4 w-full border-t"></span></div>',h,_,E;return e=new ln({props:{$$slots:{default:[Rs]},$$scope:{ctx:f}}}),l=new Ns({props:{users:nt}}),_=new Gn({props:{slots:zt,users:nt}}),{c(){b(e.$$.fragment),n=T(),t=O("div"),t.innerHTML=o,s=T(),b(l.$$.fragment),r=T(),a=O("div"),a.innerHTML=i,h=T(),b(_.$$.fragment),this.h()},l(p){w(e.$$.fragment,p),n=N(p),t=R(p,"DIV",{class:!0,"data-svelte-h":!0}),le(t)!=="svelte-eeu87j"&&(t.innerHTML=o),s=N(p),w(l.$$.fragment,p),r=N(p),a=R(p,"DIV",{class:!0,"data-svelte-h":!0}),le(a)!=="svelte-eeu87j"&&(a.innerHTML=i),h=N(p),w(_.$$.fragment,p),this.h()},h(){D(t,"class","relative"),D(a,"class","relative")},m(p,c){v(e,p,c),g(p,n,c),g(p,t,c),g(p,s,c),v(l,p,c),g(p,r,c),g(p,a,c),g(p,h,c),v(_,p,c),E=!0},p(p,c){const u={};c&2&&(u.$$scope={dirty:c,ctx:p}),e.$set(u)},i(p){E||(m(e.$$.fragment,p),m(l.$$.fragment,p),m(_.$$.fragment,p),E=!0)},o(p){d(e.$$.fragment,p),d(l.$$.fragment,p),d(_.$$.fragment,p),E=!1},d(p){p&&($(n),$(t),$(s),$(r),$(a),$(h)),k(e,p),k(l,p),k(_,p)}}}function js(f){let e,n;return e=new rn({props:{class:"m-auto w-full min-h-[calc(100vh-4rem)]",$$slots:{default:[Ls]},$$scope:{ctx:f}}}),{c(){b(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,o){v(e,t,o),n=!0},p(t,[o]){const s={};o&2&&(s.$$scope={dirty:o,ctx:t}),e.$set(s)},i(t){n||(m(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){k(e,t)}}}async function Vs(){if(!confirm("Êtes-vous sûr de vouloir réinitialiser TOUTES les cotisations AS ?"))return;(await fetch("/api/admin/reset_cotisant_as",{method:"POST"})).ok?(alert("Cotisations AS réinitialisées"),window.location.reload()):alert("Erreur lors de la réinitialisation")}async function Fs(){if(!confirm("Êtes-vous sûr de vouloir réinitialiser TOUTES les cotisations Gr'INP ?"))return;(await fetch("/api/admin/reset_cotisant_grinp",{method:"POST"})).ok?(alert("Cotisations Gr'INP réinitialisées"),window.location.reload()):alert("Erreur lors de la réinitialisation")}async function Bs(){if(!confirm("⚠️ ATTENTION: Cela va SUPPRIMER TOUTES les données de la base ! Êtes-vous absolument sûr ?")||!confirm("DERNIÈRE CONFIRMATION: Cette action est irréversible !"))return;(await fetch("/api/admin/reset_database",{method:"POST"})).ok?(alert("Base de données réinitialisée"),window.location.reload()):alert("Erreur lors de la réinitialisation")}async function Us(){const f=await fetch("/api/admin/download_database",{method:"GET"});if(f.ok){const e=await f.blob(),n=window.URL.createObjectURL(e),t=document.createElement("a");t.href=n,t.download=`grinp_backup_${new Date().toISOString().split("T")[0]}.sql`,document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(n),document.body.removeChild(t)}else alert("Erreur lors du téléchargement de la base")}function Hs(f,e,n){let{data:t}=e;return f.$$set=o=>{"data"in o&&n(0,t=o.data)},f.$$.update=()=>{f.$$.dirty&1&&(nt.set(t.users),zt.set(t.slots))},[t]}class tr extends Ue{constructor(e){super(),He(this,e,Hs,js,Be,{data:0})}}export{tr as component};
